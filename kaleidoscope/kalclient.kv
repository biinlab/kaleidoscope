#:kivy 1.0.8

<KPanelIdentity>:
    btnConfig: btnConfig

    canvas:
        Color:
            hsv: (self.time % 25.) / 25., 1, 1
        PushMatrix
        Translate:
            xy: root.x + 128, root.top - 128
        Scale:
            x: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
            y: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
            z: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
        Rotate:
            axis: 0, 0, 1
            angle: (-root.time * 10) % 360
        Rectangle:
            source: 'hexagone.png'
            size: 512, 512
            pos: -256, -256
        PopMatrix
        Color:
            hsv: ((self.time + 10) % 25.) / 25., 1, 1
        PushMatrix
        Translate:
            xy: root.right - 128, root.y + 128
        Scale:
            x: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
            y: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
            z: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
        Rotate:
            axis: 0, 0, 1
            angle: (root.time * 10) % 360
        Rectangle:
            source: 'hexagone.png'
            size: 512, 512
            pos: -256, -256
        PopMatrix
    AnchorLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint: None, None
        size: (400, 150)
        BoxLayout:
            orientation: 'vertical'
            Label:
                size_hint_y: 2
                font_size: 16
                text: 'Serveur: %s\nNom: %s' % (root.ctrl.host, root.ctrl.nickname)
                halign: 'center'
            BoxLayout:
                padding: 5
                spacing: 5
                Button:
                    text: 'Se connecter'
                    on_release: root.ctrl.do_connect()
    Button:
        id: btnConfig
        pos: 0,750
        opacity: 0
        # pos_hint: None, None
        size_hint: None, None
        size: 200,50
        text: 'Configuration'
        on_release: root.ctrl.app.open_settings()


<KPanelConnect>:
    canvas:
        Color:
            hsv: (self.time % 25.) / 25., 1, 1
        PushMatrix
        Translate:
            xy: root.x + 128, root.top - 128
        Scale:
            x: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
            y: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
            z: 0.8 + abs(((1 + self.time * 0.1) % 2) - 1) * 0.8
        Rotate:
            axis: 0, 0, 1
            angle: (-root.time * 10) % 360
        Rectangle:
            source: 'hexagone.png'
            size: 512, 512
            pos: -256, -256
        PopMatrix
        Color:
            hsv: ((self.time + 10) % 25.) / 25., 1, 1
        PushMatrix
        Translate:
            xy: root.right - 128, root.y + 128
        Scale:
            x: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
            y: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
            z: 0.8 + abs(((self.time * 0.1) % 2) - 1) * 0.8
        Rotate:
            axis: 0, 0, 1
            angle: (root.time * 10) % 360
        Rectangle:
            source: 'hexagone.png'
            size: 512, 512
            pos: -256, -256
        PopMatrix
    AnchorLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint: None, None
        size: (400, 150)

        BoxLayout:
            orientation: 'vertical'
            padding: 5
            Label:
                size_hint_y: 2
                text: root.text
                font_size: 16
            Button:
                text: 'Cancel'
                on_release: root.ctrl.do_cancel_connect()
